<!DOCTYPE html>
<!-- Fighting mongoose  file load  -->
  <head lang="en">
  <meta charset="UTF-8">
	<style>
		h1 {
		text-align:  center;
		color:white;
		}
		h2 {
		text-align:  left;
		color:white;
		}
		body {
		background-color:green
		}
		id {
		color:white}
	 </style>	
	<script>
      function showImage() {
        var preview = document.querySelector('#dispimage');
        var file    = document.querySelector('#impfile').files[0];
        var reader  = new FileReader();

        reader.addEventListener("load", function () {
          preview.data = reader.result;

          // prints base64 to screen
          // this reader.result value can be uploaded to db
          console.log(reader.result)
        }, false);

        if (file) {
          reader.readAsDataURL(file);
        }
    }

	</script>
	<head>
	   <title>file upload </title>
	</head>
	<body>
        <form>
		<h1>Upload forms to Bits and Bytes</h1>
		<hr class="half_horizontal_rule">
		<h2>Choose a file to upload.</h2>
        <input type="file" size="75" id="impfile" accept=".jpg, .pdf, .img">
		<br>
      </form>
      <button onclick ="showImage()">Preview</button>
	  <br>
	  <object id="dispimage" height='500px' width='500px'></object>
	</body>
</html>
